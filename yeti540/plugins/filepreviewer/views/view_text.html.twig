<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>{{ SITE_CONFIG_SITE_NAME }}</title>
        <meta name="description" content="{{ PAGE_DESCRIPTION }}" />
        <meta name="keywords" content="{{ PAGE_KEYWORDS }}" />
        <meta name="copyright" content="Copyright &copy; {{ "now"|date("Y") }} - {{ SITE_CONFIG_SITE_NAME }}" />
        <meta name="robots" content="all" />
        <meta http-equiv="Cache-Control" content="no-cache" />
        <meta http-equiv="Expires" content="-1" />
        <meta http-equiv="Pragma" content="no-cache" />
        <link rel="stylesheet" type="text/css"  href="{{ PLUGIN_WEB_ROOT }}/filepreviewer/assets/css/syntax_highlighting/atom-one-light.css"/>
        <style>
        body, html {
            margin: 0px;
            padding: 0px;
            font-family: "IBM Plex Sans", sans-serif;
            font-size: 12px;
            color: #001737;
        }
        body {
            padding-right: 3px;
        }
        .text-preview-wrapper pre {
            padding: 0px;
            width: 100%; 
            min-height: 690px;
            background-color: #ffffff;
            border-color: #ffffff;
            font-family: monospace;
            outline: inherit;
            text-align: left;
            white-space: pre-wrap;       /* css-3 */
            white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
            white-space: -pre-wrap;      /* Opera 4-6 */
            white-space: -o-pre-wrap;    /* Opera 7 */
            word-wrap: break-word;       /* Internet Explorer 5.5+ */
            max-height: 690px;
            overflow-y: scroll;
        }

        .text-preview-wrapper pre code {
            font-family: monospace;
        }

        .text-preview-wrapper textarea, .text-preview-wrapper textarea:focus {
            border: none;
            font-family: monospace;
            outline: inherit;
            width: 100%; 
            height: 696px;
            color: #383a42;
        }
        
        .text-preview-error {
            min-height: 650px;
            background-color: #ffffff;
            text-align: center;
            padding-top: 30px;
        }
        </style>
        <script>
            var LOGGED_IN = {% if Auth.loggedIn() == 'true' %}true{% else %}false{% endif %};
        </script>
        {{ theme.outputHeadJSCode()|raw }}
    </head>

    <body>
        {% if fileContent|length == 0 %}
            <div class="text-preview-error">
                Error loading file, please download to view.
            </div>
        {% else %}
            <div class="text-preview-wrapper">
                {% if hightlighted == true %}
                    {{ fileContent|raw }}
                {% else %}
                    <div><textarea readonly="readonly">{{ fileContent }}</textarea></div>
                {% endif %}
            </div>
        {% endif %}
    </body>
</html>